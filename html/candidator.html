<html>
    <body>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="/_ah/channel/jsapi"></script>

        <script>
            function onOpened() {

            }

            function onMessage(obj) {
            }

            function onError(x) {
            }

            function onClose(x) {
            }

            function init(token) {            
                channel = new goog.appengine.Channel(token);
                socket = channel.open();
                socket.onopen = onOpened;
                socket.onmessage = onMessage;
                socket.onerror = onError;
                socket.onclose = onClose;
            }
            function send(){
                v = document.getElementById("code").value
                $.ajax({
                    type: "POST",
                    url: "/interview/send?id=code",
                    data: {code:v}
                });
            }
            </script>

        <script type="text/javascript" src="/interview/create?id=code&callback=init"></script>     

        <textarea id="code" cols="110" rows="20" onkeyup="send()" onchange="send()"></textarea>

    </body>
</html>